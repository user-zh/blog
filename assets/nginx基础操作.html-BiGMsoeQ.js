import{_ as d}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as k,a as i,b as h,d as r,w as e,r as g,o as p,f as n}from"./app-FCwA8GHg.js";const o={};function b(u,s){const t=g("CodeTabs");return p(),k("div",null,[s[40]||(s[40]=i("h2",{id:"基础操作",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#基础操作"},[i("span",null,"基础操作")])],-1)),s[41]||(s[41]=i("h3",{id:"linux",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#linux"},[i("span",null,"linux")])],-1)),s[42]||(s[42]=i("p",null,"linux基本上在window命令前面加上“./”即可",-1)),h(t,{id:"9",data:[{id:"启动"},{id:"杀死进程"}]},{title0:e(({value:l,isActive:a})=>s[0]||(s[0]=[n("启动")])),title1:e(({value:l,isActive:a})=>s[1]||(s[1]=[n("杀死进程")])),tab0:e(({value:l,isActive:a})=>s[2]||(s[2]=[i("div",{class:"language-shell line-numbers-mode","data-highlighter":"shiki","data-ext":"shell",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"/usr/local/nginx/sbin/nginx"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -c"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," /usr/local/nginx/conf/nginx.conf")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"})])],-1)])),tab1:e(({value:l,isActive:a})=>s[3]||(s[3]=[i("div",{class:"language-shell line-numbers-mode","data-highlighter":"shiki","data-ext":"shell",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"pkill"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -9"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," nginx")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"})])],-1)])),_:1}),s[43]||(s[43]=i("h3",{id:"windows",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#windows"},[i("span",null,"windows")])],-1)),h(t,{id:"20",data:[{id:"验证语法"},{id:"查看版本号"},{id:"启动Nginx"},{id:"停止Nginx"},{id:"关闭Nginx"},{id:"刷新配置"},{id:"帮助信息"},{id:"打开日志"}]},{title0:e(({value:l,isActive:a})=>s[4]||(s[4]=[n("验证语法")])),title1:e(({value:l,isActive:a})=>s[5]||(s[5]=[n("查看版本号")])),title2:e(({value:l,isActive:a})=>s[6]||(s[6]=[n("启动Nginx")])),title3:e(({value:l,isActive:a})=>s[7]||(s[7]=[n("停止Nginx")])),title4:e(({value:l,isActive:a})=>s[8]||(s[8]=[n("关闭Nginx")])),title5:e(({value:l,isActive:a})=>s[9]||(s[9]=[n("刷新配置")])),title6:e(({value:l,isActive:a})=>s[10]||(s[10]=[n("帮助信息")])),title7:e(({value:l,isActive:a})=>s[11]||(s[11]=[n("打开日志")])),tab0:e(({value:l,isActive:a})=>s[12]||(s[12]=[i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"nginx"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -t")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"})])],-1)])),tab1:e(({value:l,isActive:a})=>s[13]||(s[13]=[i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"nginx"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -V")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"})])],-1)])),tab2:e(({value:l,isActive:a})=>s[14]||(s[14]=[i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"start"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," nginx")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"})])],-1)])),tab3:e(({value:l,isActive:a})=>s[15]||(s[15]=[i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"nginx"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -s"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," stop")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"})])],-1)])),tab4:e(({value:l,isActive:a})=>s[16]||(s[16]=[i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"nginx"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -s"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," quit")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"})])],-1)])),tab5:e(({value:l,isActive:a})=>s[17]||(s[17]=[i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"nginx"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -s"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," reload")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"})])],-1)])),tab6:e(({value:l,isActive:a})=>s[18]||(s[18]=[i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"nginx"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -h")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"})])],-1)])),tab7:e(({value:l,isActive:a})=>s[19]||(s[19]=[i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"nginx"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -s"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," reopen")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"})])],-1)])),_:1}),s[44]||(s[44]=r('<h2 id="配置说明" tabindex="-1"><a class="header-anchor" href="#配置说明"><span>配置说明</span></a></h2><h3 id="root和alias区别" tabindex="-1"><a class="header-anchor" href="#root和alias区别"><span>root和alias区别</span></a></h3><blockquote><p>root：请求的根目录</p><p>alias：请求的虚拟目录</p><p>区别：root会加上location的路径，而alias不会</p></blockquote><h3 id="nginx限制地址访问ip限制" tabindex="-1"><a class="header-anchor" href="#nginx限制地址访问ip限制"><span>nginx限制地址访问ip限制</span></a></h3>',4)),h(t,{id:"66",data:[{id:"屏蔽单个ip访问"},{id:"允许单个ip访问"},{id:"屏蔽所有ip访问"},{id:"允许所有ip访问"},{id:"屏蔽ip段访问"},{id:"允许ip段访问"}]},{title0:e(({value:l,isActive:a})=>s[20]||(s[20]=[n("屏蔽单个ip访问")])),title1:e(({value:l,isActive:a})=>s[21]||(s[21]=[n("允许单个ip访问")])),title2:e(({value:l,isActive:a})=>s[22]||(s[22]=[n("屏蔽所有ip访问")])),title3:e(({value:l,isActive:a})=>s[23]||(s[23]=[n("允许所有ip访问")])),title4:e(({value:l,isActive:a})=>s[24]||(s[24]=[n("屏蔽ip段访问")])),title5:e(({value:l,isActive:a})=>s[25]||(s[25]=[n("允许ip段访问")])),tab0:e(({value:l,isActive:a})=>s[26]||(s[26]=[i("div",{class:"language-nginx line-numbers-mode","data-highlighter":"shiki","data-ext":"nginx",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"deny "),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"{ip};")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"})])],-1)])),tab1:e(({value:l,isActive:a})=>s[27]||(s[27]=[i("div",{class:"language-nginx line-numbers-mode","data-highlighter":"shiki","data-ext":"nginx",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"allow "),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"{ip};")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"})])],-1)])),tab2:e(({value:l,isActive:a})=>s[28]||(s[28]=[i("div",{class:"language-nginx line-numbers-mode","data-highlighter":"shiki","data-ext":"nginx",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"deny "),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"all"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"})])],-1)])),tab3:e(({value:l,isActive:a})=>s[29]||(s[29]=[i("div",{class:"language-nginx line-numbers-mode","data-highlighter":"shiki","data-ext":"nginx",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"allow "),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"all"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"})])],-1)])),tab4:e(({value:l,isActive:a})=>s[30]||(s[30]=[i("div",{class:"language-nginx line-numbers-mode","data-highlighter":"shiki","data-ext":"nginx",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"deny "),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"{ip};")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"})])],-1)])),tab5:e(({value:l,isActive:a})=>s[31]||(s[31]=[i("div",{class:"language-nginx line-numbers-mode","data-highlighter":"shiki","data-ext":"nginx",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"allow "),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"{ip};")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"})])],-1)])),_:1}),s[45]||(s[45]=r('<h3 id="负载均衡策略" tabindex="-1"><a class="header-anchor" href="#负载均衡策略"><span>负载均衡策略</span></a></h3><table><thead><tr><th>参数</th><th>解释</th></tr></thead><tbody><tr><td>fail_timeout</td><td>与max_fails结合使用。</td></tr><tr><td>max_fails</td><td>设置在fail_timeout参数设置的时间内最大失败次数，如果在这个时间内，所有针对该服务器的请求都失败了，那么认为该服务器会被认为是停机了</td></tr><tr><td>fail_time</td><td>服务器会被认为停机的时间长度,默认为10s。</td></tr><tr><td>down</td><td>标记服务器永久停机了</td></tr><tr><td>backup</td><td>标记该服务器为备用服务器。当主服务器停止时，请求会被发送到它这里。</td></tr></tbody></table>',2)),h(t,{id:"143",data:[{id:"默认轮询"},{id:"权重"},{id:"ip"},{id:"最少连接"}]},{title0:e(({value:l,isActive:a})=>s[32]||(s[32]=[n("默认轮询")])),title1:e(({value:l,isActive:a})=>s[33]||(s[33]=[n("权重")])),title2:e(({value:l,isActive:a})=>s[34]||(s[34]=[n("ip")])),title3:e(({value:l,isActive:a})=>s[35]||(s[35]=[n("最少连接")])),tab0:e(({value:l,isActive:a})=>s[36]||(s[36]=[i("div",{class:"language-nginx line-numbers-mode","data-highlighter":"shiki","data-ext":"nginx",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"upstream"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," dynamic_server {")]),n(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    server"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," localhost:8080;")]),n(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    server"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," localhost:8081;")]),n(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1)])),tab1:e(({value:l,isActive:a})=>s[37]||(s[37]=[i("div",{class:"language-nginx line-numbers-mode","data-highlighter":"shiki","data-ext":"nginx",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"upstream"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," dynamic_server {")]),n(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    server"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," localhost:8080 "),i("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"weight"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"="),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"3"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"; "),i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"##权重表示访问比列")]),n(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    server localhost:8081;  "),i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"## 默认是1")]),n(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1)])),tab2:e(({value:l,isActive:a})=>s[38]||(s[38]=[i("div",{class:"language-nginx line-numbers-mode","data-highlighter":"shiki","data-ext":"nginx",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"upstream"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," dynamic_server {")]),n(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    ip_hash"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),n(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    server"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," localhost:8080;")]),n(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    server"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," localhost:8081;")]),n(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1)])),tab3:e(({value:l,isActive:a})=>s[39]||(s[39]=[i("div",{class:"language-nginx line-numbers-mode","data-highlighter":"shiki","data-ext":"nginx",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"upstream"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," dynamic_server {")]),n(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    least_conn"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),n(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    server"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," localhost:8080;")]),n(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    server"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," localhost:8081;")]),n(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1)])),_:1}),s[46]||(s[46]=r('<h2 id="nginx离线安装" tabindex="-1"><a class="header-anchor" href="#nginx离线安装"><span>nginx离线安装</span></a></h2><h3 id="解压-编译" tabindex="-1"><a class="header-anchor" href="#解压-编译"><span>解压+编译</span></a></h3><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tar</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -zxvf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx-1.24.0.tar.gz</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ./nginx-1.24.0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">./configure</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --prefix=/usr/local/nginx</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --with-http_stub_status_module</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --with-http_ssl_module</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">make</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">./configure</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --prefix=/usr/local/nginx</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --conf-path=/usr/local/nginx/conf/nginx.conf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="解决编译问题" tabindex="-1"><a class="header-anchor" href="#解决编译问题"><span>解决编译问题</span></a></h3><div class="language-plain line-numbers-mode" data-highlighter="shiki" data-ext="plain" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>yum -y install gcc openssl openssl-devel pcre-devel zlib zlib-devel</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>备份+迁移</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mv</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/local/nginx/sbin/nginx</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/local/nginx/sbin/nginx.20230613old</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /home/nginx-1.23.4/objs/nginx</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/local/nginx/sbin/nginx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="平滑升级" tabindex="-1"><a class="header-anchor" href="#平滑升级"><span>平滑升级</span></a></h2><p>执行升级命令(在解压出的新版本的nginx源文件目录下执行)</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">make</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> upgrade</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /data/nginx/logs</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ps</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -ef</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">grep</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pkill</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -9</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ps</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -ef</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">grep</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">/usr/local/nginx/sbin/nginx</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/local/nginx/conf/nginx.conf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ps</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -ef</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">grep</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>',21))])}const m=d(o,[["render",b]]),v=JSON.parse('{"path":"/%E5%B7%A5%E5%85%B7%E5%92%8C%E5%91%BD%E4%BB%A4/%E4%B8%AD%E9%97%B4%E4%BB%B6/nginx%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C.html","title":"nginx基础操作","lang":"zh-CN","frontmatter":{"title":"nginx基础操作","order":2,"date":"2025-02-20T00:00:00.000Z","isOriginal":false,"category":["中间件"],"tags":["nginx"],"description":"基础操作 linux linux基本上在window命令前面加上“./”即可 windows 配置说明 root和alias区别 root：请求的根目录 alias：请求的虚拟目录 区别：root会加上location的路径，而alias不会 nginx限制地址访问ip限制 负载均衡策略 nginx离线安装 解压+编译 解决编译问题 备份+迁移 平滑升...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"nginx基础操作\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-02-20T00:00:00.000Z\\",\\"dateModified\\":\\"2025-04-23T12:58:06.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"今天也随弈\\"}]}"],["meta",{"property":"og:url","content":"https://user-zh.github.io/blog/%E5%B7%A5%E5%85%B7%E5%92%8C%E5%91%BD%E4%BB%A4/%E4%B8%AD%E9%97%B4%E4%BB%B6/nginx%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C.html"}],["meta",{"property":"og:site_name","content":"今天也随弈的博客"}],["meta",{"property":"og:title","content":"nginx基础操作"}],["meta",{"property":"og:description","content":"基础操作 linux linux基本上在window命令前面加上“./”即可 windows 配置说明 root和alias区别 root：请求的根目录 alias：请求的虚拟目录 区别：root会加上location的路径，而alias不会 nginx限制地址访问ip限制 负载均衡策略 nginx离线安装 解压+编译 解决编译问题 备份+迁移 平滑升..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-04-23T12:58:06.000Z"}],["meta",{"property":"article:tag","content":"nginx"}],["meta",{"property":"article:published_time","content":"2025-02-20T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-04-23T12:58:06.000Z"}]]},"git":{"createdTime":1745291324000,"updatedTime":1745413086000,"contributors":[{"name":"账号zhengh","username":"","email":"6518392+account_number_zhengh@user.noreply.gitee.com","commits":1},{"name":"今天也随弈","username":"","email":"543849241@qq.com","commits":1}]},"readingTime":{"minutes":1.9,"words":570},"filePathRelative":"工具和命令/中间件/nginx基础操作.md","excerpt":"<h2>基础操作</h2>\\n<h3>linux</h3>\\n<p>linux基本上在window命令前面加上“./”即可</p>\\n\\n<h3>windows</h3>\\n\\n<h2>配置说明</h2>\\n<h3>root和alias区别</h3>\\n<blockquote>\\n<p>root：请求的根目录</p>\\n<p>alias：请求的虚拟目录</p>\\n<p>区别：root会加上location的路径，而alias不会</p>\\n</blockquote>\\n<h3>nginx限制地址访问ip限制</h3>\\n\\n<h3>负载均衡策略</h3>\\n<table>\\n<thead>\\n<tr>\\n<th>参数</th>\\n<th>解释</th>\\n</tr>\\n</thead>\\n<tbody>\\n<tr>\\n<td>fail_timeout</td>\\n<td>与max_fails结合使用。</td>\\n</tr>\\n<tr>\\n<td>max_fails</td>\\n<td>设置在fail_timeout参数设置的时间内最大失败次数，如果在这个时间内，所有针对该服务器的请求都失败了，那么认为该服务器会被认为是停机了</td>\\n</tr>\\n<tr>\\n<td>fail_time</td>\\n<td>服务器会被认为停机的时间长度,默认为10s。</td>\\n</tr>\\n<tr>\\n<td>down</td>\\n<td>标记服务器永久停机了</td>\\n</tr>\\n<tr>\\n<td>backup</td>\\n<td>标记该服务器为备用服务器。当主服务器停止时，请求会被发送到它这里。</td>\\n</tr>\\n</tbody>\\n</table>","autoDesc":true}');export{m as comp,v as data};
